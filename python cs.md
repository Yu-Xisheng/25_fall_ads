# è®¡æ¦‚B-CS

æ¢å›½ç†™-250012432

äº‹å…ˆå£°æ˜ï¼šå†…å®¹å¾ˆåŸºç¡€ï¼Œé’ˆå¯¹åˆæ¬¡æ¥è§¦çš„æ¥å¤ä¹ 

------

# ç¬¬ 1 ç« 

# çŸ©é˜µï¼šäºŒç»´çŠ¶æ€ç©ºé—´ä¸å›¾å»ºæ¨¡

**çŸ©é˜µä¸æ˜¯äºŒç»´æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œè§„åˆ™å›¾ï¼ˆgraphï¼‰â€æˆ–ä¸€ä¸ªâ€œäºŒç»´ DP çŠ¶æ€ç©ºé—´â€**

å› æ­¤ï¼ŒçŸ©é˜µå®é™…å°±æ˜¯BFSã€DFSã€DPã€å•è°ƒæ ˆã€Kadaneç­‰ç­‰çš„æ ¹æº

------

## 1.1 çŸ©é˜µé—®é¢˜çš„ä¸‰ç§â€œç­‰ä»·è§†è§’â€

ç»™ä½ ä¸€ä¸ª `n Ã— m` çš„çŸ©é˜µï¼š

```text
grid[i][j]
```

ä½ å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼çœ‹å®ƒï¼š

### è§†è§’ 1ï¼šäºŒç»´ DP è¡¨/çŠ¶æ€ç©ºé—´

```text
dp[i][j] = åˆ°è¾¾ (i, j) çš„æœ€ä¼˜è§£
```

### è§†è§’ 2ï¼šè§„åˆ™å›¾/ç‰©ç†ç©ºé—´

- æ¯ä¸ªæ ¼å­æ˜¯ä¸€ä¸ªèŠ‚ç‚¹
- ä¸Šä¸‹å·¦å³æ˜¯è¾¹

------

## 1.2 çŸ©é˜µ DFSï¼šè¿é€šæ€§ä¸åŒºåŸŸé—®é¢˜

##### ä¹‹æ‰€ä»¥åœ¨è¿™é‡Œædfsï¼Œæ˜¯å› ä¸ºçŸ©é˜µåœ°å›¾æ˜¯æœ€èƒ½ä½“ç°å‡ºdfsä¸€æ¡è·¯èµ°åˆ°å¤´çš„æ€æƒ³çš„

------

### ä¾‹é¢˜ 1ï¼šå²›å±¿æ•°é‡ï¼ˆç»å…¸ï¼‰

**é—®é¢˜**
ç»™å®š `0/1` çŸ©é˜µï¼Œ`1` è¡¨ç¤ºé™†åœ°ï¼Œæ±‚å²›å±¿ä¸ªæ•°ã€‚

------

### æ€è·¯æ‹†è§£

- æ¯é‡åˆ°ä¸€ä¸ªæ²¡è®¿é—®è¿‡çš„ `1`
- ç”¨ DFS æŠŠæ•´ä¸ªè¿é€šå—â€œæŸ“æ‰â€/visited
- æ¯å¯åŠ¨ä¸€æ¬¡ DFS/è¦†ç›–ä¸€ä¸ªè¿é€šå—ï¼Œå²›å±¿æ•° +1

------

### ä»£ç 

```python
def numIslands(grid):
    n, m = len(grid), len(grid[0])
    visited = [[False]*m for _ in range(n)]

    def dfs(x, y):
        if x < 0 or x >= n or y < 0 or y >= m:
            return
        if grid[x][y] == '0' or visited[x][y]:
            return

        visited[x][y] = True
        for dx, dy in [(1,0), (-1,0), (0,1), (0,-1)]:
            dfs(x+dx, y+dy)

    ans = 0
    for i in range(n):
        for j in range(m):
            if grid[i][j] == '1' and not visited[i][j]:
                dfs(i, j)
                ans += 1

    return ans
```

------

### å…³é”®ç†è§£ç‚¹

- visited æ˜¯ **çŠ¶æ€è¡¨**
- dfs ä¸æ˜¯â€œå‡½æ•°â€ï¼Œè€Œæ˜¯ **åœ¨å›¾ä¸Šèµ°ä¸€é**
- ä¸Šä¸‹å·¦å³ = å›¾çš„é‚»æ¥å…³ç³»

------

## 1.4 çŸ©é˜µ BFSï¼šæœ€çŸ­è·¯å¾„ä¸æ‰©æ•£

##### åŒæ ·ï¼Œåœ¨è¿™é‡Œæåˆ°bfsæ˜¯æœ€èƒ½ä½“ç°bfså¦‚åŒæ¶²ä½“èˆ¬ä¸€å±‚ä¸€å±‚å‘å¤–é“ºå¼€çš„æ„Ÿè§‰çš„ã€‚ä½†bfsçš„å˜ç§å¾ˆå¤šï¼Œæ‰€ä»¥åœ¨æ–‡æœ«è¿˜ä¼šå¯¹bfsåšä¸€æ¬¡æ€»ç»“

------

### ä¾‹é¢˜ 2ï¼šçŸ©é˜µæœ€çŸ­è·¯å¾„ï¼ˆæ— æƒï¼‰

ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ï¼Œ`0` å¯èµ°ï¼Œ`1` éšœç¢ã€‚

------

### æ€è·¯æ‹†è§£

- æ¯ä¸€å±‚ BFS = å¤šèµ°ä¸€æ­¥
- dist æ•°ç»„è®°å½•æœ€çŸ­è·ç¦»
- queue ä¸­å­˜çš„æ˜¯çŠ¶æ€ `(x, y)`

------

### ä»£ç 

```python
from collections import deque

def shortestPath(grid):
    n, m = len(grid), len(grid[0])
    dist = [[-1]*m for _ in range(n)]
    q = deque()

    q.append((0, 0))
    dist[0][0] = 0

    while q:
        x, y = q.popleft()
        for dx, dy in [(1,0), (-1,0), (0,1), (0,-1)]:
            nx, ny = x+dx, y+dy
            if 0 <= nx < n and 0 <= ny < m:
                if grid[nx][ny] == 0 and dist[nx][ny] == -1:
                    dist[nx][ny] = dist[x][y] + 1
                    q.append((nx, ny))

    return dist[n-1][m-1]
```

------

### BFS ä¸ DFS çš„æœ¬è´¨åŒºåˆ«

|          | DFS       | BFS      |
| -------- | --------- | -------- |
| ç›®æ ‡     | è¿é€šæ€§    | æœ€çŸ­è·¯å¾„ |
| æ•°æ®ç»“æ„ | æ ˆ / é€’å½’ | é˜Ÿåˆ—     |
| çŠ¶æ€é¡ºåº | æ·±        | å±‚       |

------

## 1.5 å¤šæº BFSï¼šåŒæ—¶æ‰©æ•£çš„æ€æƒ³

### æ ¸å¿ƒæ€æƒ³

> **å¤šä¸ªèµ·ç‚¹ä¸€èµ·è¿›é˜Ÿåˆ—**

------

### ä¾‹é¢˜ 3ï¼š01 çŸ©é˜µï¼ˆæœ€è¿‘çš„ 0ï¼‰

- `0` ä½œä¸ºæºç‚¹
- `1` éœ€è¦æ‰¾æœ€è¿‘çš„ `0`

------

### æ€è·¯æ‹†è§£

- æ‰€æœ‰ `0` åŒæ—¶å…¥é˜Ÿ
- BFS æ‰©æ•£
- ç¬¬ä¸€æ¬¡åˆ°è¾¾çš„è·ç¦»å°±æ˜¯æœ€çŸ­

------

### ä»£ç 

```python
def updateMatrix(mat):
    n, m = len(mat), len(mat[0])
    from collections import deque
    q = deque()
    dist = [[-1]*m for _ in range(n)]

    for i in range(n):
        for j in range(m):
            if mat[i][j] == 0:
                dist[i][j] = 0
                q.append((i, j))

    while q:
        x, y = q.popleft()
        for dx, dy in [(1,0), (-1,0), (0,1), (0,-1)]:
            nx, ny = x+dx, y+dy
            if 0 <= nx < n and 0 <= ny < m and dist[nx][ny] == -1:
                dist[nx][ny] = dist[x][y] + 1
                q.append((nx, ny))

    return dist
```

------

## 1.6 çŸ©é˜µå‰ç¼€å’Œï¼šäºŒç»´åŒºé—´çš„ O(1) æŸ¥è¯¢

### æ ¸å¿ƒæ€æƒ³

> **é¢„å¤„ç†ä¸€æ¬¡ï¼ŒæŸ¥è¯¢æ— æ•°æ¬¡**

------

### å®šä¹‰

```text
pre[i][j] = å·¦ä¸Š (0,0) åˆ° (i,j) çš„å’Œ
```

------

### æŸ¥è¯¢ä»»æ„å­çŸ©é˜µ

```text
sum = pre[x2][y2] - pre[x1-1][y2]-pre[x2][y1-1]+pre[x1-1][y1-1]
```

------

## 1.8 Kadane ç®—æ³•ï¼ˆä¸€ç»´æœ€å¤§å­æ•°ç»„ï¼‰

### æ ¸å¿ƒæ€æƒ³

> **å½“å‰å’Œä¸ºè´Ÿï¼Œå°±é‡æ–°å¼€å§‹**

------

### ä»£ç 

```python
def maxSubArray(nums):
    cur = ans = nums[0]
    for x in nums[1:]:
        cur = max(x, cur + x)
        ans = max(ans, cur)
    return ans
```

------

## 1.9 äºŒç»´ Kadaneï¼šæœ€å¤§å­çŸ©é˜µå’Œï¼ˆv2.0 é‡ç‚¹ï¼‰

### æ ¸å¿ƒæ€æƒ³

> **æŠŠäºŒç»´é—®é¢˜â€œå‹æˆä¸€ç»´â€**

------

### æ€è·¯æ‹†è§£

1. å›ºå®šä¸Šè¾¹ç•Œ top
2. å‘ä¸‹æšä¸¾ bottom
3. æ¯ä¸€åˆ—ç´¯åŠ  â†’ ä¸€ç»´æ•°ç»„
4. å¯¹è¯¥æ•°ç»„è·‘ Kadane

------

### ä»£ç ï¼ˆç†è§£çº§ï¼Œä¸è¦æ±‚æ‰‹å†™ï¼‰

```python
def maxSumSubmatrix(matrix):
    n, m = len(matrix), len(matrix[0])
    ans = float('-inf')

    for top in range(n):
        colSum = [0]*m
        for bottom in range(top, n):
            for j in range(m):
                colSum[j] += matrix[bottom][j]

            cur = colSum[0]
            best = colSum[0]
            for x in colSum[1:]:
                cur = max(x, cur+x)
                best = max(best, cur)

            ans = max(ans, best)

    return ans
```

------

# ç¬¬ 2 ç« 

# æ’åºï¼šè´ªå¿ƒæˆç«‹çš„ç»“æ„å‰æ

------

## 2.1 æœ¬ç« çš„æ ¸å¿ƒæ€æƒ³

> **è´ªå¿ƒæ€æƒ³çš„æˆç«‹æ˜¯å»ºç«‹â€œæ’åºåï¼Œå±€éƒ¨æœ€ä¼˜ = å…¨å±€æœ€ä¼˜â€çš„ç»“æ„ä¹‹ä¸Šçš„**

ä¹Ÿå°±æ˜¯è¯´ï¼Œé€‰å®šåˆé€‚çš„æ’åºæ–¹æ³•æ˜¯è´ªå¿ƒçš„åŸºç¡€

æ¥ä¸‹æ¥ä¼šä»¥ä»¥**åŒºé—´é—®é¢˜**ä¸ºä¾‹æ¥å±•å¼€

------

## 2.2 æ’åºåœ¨ç®—æ³•ä¸­çš„çœŸå®å«ä¹‰

#### **æ’åºæ˜¯ä¸ºäº†â€œå»ºç«‹å†³ç­–é¡ºåºâ€**

------

### 2.2.1 sort + lambda çš„å«ä¹‰

```python
intervals.sort(key=lambda x: x[1])
```

è¿™å¥è¯ç­‰ä»·äºï¼š

> **â€œå³ç«¯ç‚¹æœ€å°ï¼Œå°±ä¸€å®šæ˜¯å½“å‰æœ€ä¼˜å†³ç­–/å°±å¯ä»¥å¯¹åº”å½“å‰æœ€ä¼˜è§£â€**

------

## 2.3 åŒºé—´é—®é¢˜çš„ç»Ÿä¸€æŠ½è±¡

åŒºé—´é—®é¢˜æœ¬è´¨éƒ½åœ¨å›ç­”ä¸‰ç±»é—®é¢˜ä¹‹ä¸€ï¼š

1. **é€‰å¤šå°‘ä¸ªåŒºé—´**
2. **èƒ½å¦è¦†ç›–æŸä¸ªèŒƒå›´**
3. **åŒºé—´ä¹‹é—´å¦‚ä½•å†²çª**

------

## 2.4 åŒºé—´è°ƒåº¦é—®é¢˜ï¼ˆè´ªå¿ƒçš„èµ·ç‚¹ï¼‰

### ä¾‹é¢˜ 1ï¼šæœ€å¤šä¸é‡å åŒºé—´æ•°

ç»™å®šè‹¥å¹²åŒºé—´ï¼Œé€‰å‡ºæœ€å¤šä¸ªäº’ä¸é‡å çš„åŒºé—´ã€‚

------

### æ€è·¯æ‹†è§£

é€‰**ç»“æŸæœ€æ—©**çš„åŒºé—´â€”â€”ç»™åé¢ç•™ä¸‹æœ€å¤§è‡ªç”±åº¦ â€”â€”ä¹Ÿå°±æ˜¯æŒ‰å³ç«¯ç‚¹æ’åº

------

### ç®—æ³•æ­¥éª¤

1. æŒ‰å³ç«¯ç‚¹æ’åº
2. æ¯æ¬¡é€‰èƒ½æ¥ä¸Šçš„ç¬¬ä¸€ä¸ªåŒºé—´

------

### ä»£ç 

```python
def intervalSchedule(intervals):
    intervals.sort(key=lambda x: x[1])
    end = float('-inf')
    count = 0

    for l, r in intervals:
        if l >= end:
            count += 1
            end = r

    return count
```

------

## 2.5 åŒºé—´è¦†ç›–é—®é¢˜

### ä¾‹é¢˜ 2ï¼šæœ€å°‘åŒºé—´è¦†ç›– [L, R]

------

### æ€è·¯æ‹†è§£

ä¸å‰ä¸€éƒ¨åˆ†è¦æ±‚å°½å¯èƒ½å¤šçš„åŒºé—´â€”â€”å³ç»™åæ¥çš„åŒºé—´ç•™å°½å¯èƒ½å¤šçš„ç©ºé—´â€”â€”ä¸åŒï¼Œæ­¤å¤„è¦æ±‚ï¼šå•ä¸ªåŒºé—´çš„è¦†ç›–é¢å°½å¯èƒ½å¹¿â€”â€”æŒ‰å·¦ç«¯ç‚¹æ’åºï¼Œåœ¨å½“å‰èƒ½è¦†ç›–çš„ä½ç½®ä¸­é€‰å³ç«¯ç‚¹æœ€è¿œçš„

------

### ä»£ç 

```python
def minCover(intervals, L, R):
    intervals.sort()
    i = 0
    n = len(intervals)
    cur = L
    ans = 0

    while cur < R:
        far = cur
        while i < n and intervals[i][0] <= cur:
            far = max(far, intervals[i][1])
            i += 1

        if far == cur:
            return -1  # æ— æ³•è¦†ç›–

        ans += 1
        cur = far

    return ans
```

------

## 2.6 åŒºé—´åˆå¹¶ï¼ˆéè´ªå¿ƒï¼Œä½†ä¾èµ–æ’åºï¼‰

### ä¾‹é¢˜ 3ï¼šåˆå¹¶é‡å åŒºé—´

------

### æ€è·¯

- æŒ‰å·¦ç«¯ç‚¹æ’åº
- èƒ½åˆå°±åˆï¼Œä¸èƒ½åˆå°±å¼€æ–°åŒºé—´

------

### ä»£ç 

```python
def merge(intervals):
    intervals.sort()
    res = []

    for l, r in intervals:
        if not res or res[-1][1] < l:
            res.append([l, r])
        else:
            res[-1][1] = max(res[-1][1], r)

    return res
```

------

## 2.7 æ‰«æçº¿ï¼ˆSweep Lineï¼‰æ€æƒ³

### æ ¸å¿ƒæ€æƒ³ï¼š**æŠŠâ€œåŒºé—´â€è½¬æˆâ€œäº‹ä»¶â€**

------

### ä¾‹é¢˜ 4ï¼šæœ€å¤§åŒºé—´é‡å æ•°

------

### æ€è·¯æ‹†è§£â€”â€”å’Œä¸º0æ¥æ„é€ åˆ¤æ–­æŸä¸€ä¸ªåŒºé—´ï¼ˆäº‹ä»¶ï¼‰æ˜¯å¦ç»“æŸ

1. æ¯ä¸ªåŒºé—´ `[l, r)`
   â†’ `l`ï¼š+1
   â†’ `r`ï¼š-1
2. æŒ‰ä½ç½®æ’åº
3. æ‰«æç´¯åŠ 

------

### ä»£ç 

```python
def maxOverlap(intervals):
    events = []
    for l, r in intervals:
        events.append((l, 1))
        events.append((r, -1))

    events.sort()
    cur = ans = 0

    for _, delta in events:
        cur += delta
        ans = max(ans, cur)

    return ans
```

------

### æ‰«æçº¿çš„æœ¬è´¨

> **åŒºé—´é—®é¢˜ â†’ å‰ç¼€å’Œé—®é¢˜**

------

## 2.8 èµ„æºè°ƒåº¦æ¨¡å‹

### ä¾‹é¢˜ 5ï¼šæœ€å°‘ä¸»æŒäººé—®é¢˜

------

### é—®é¢˜æè¿°

æ¯ä¸ªåŒºé—´æ˜¯ä¸€åœºæ´»åŠ¨ï¼Œ
éœ€è¦å¤šå°‘ä¸ªä¸»æŒäººæ‰èƒ½ä¸å†²çªï¼Ÿ

------

### æ€è·¯æ‹†è§£

1. æŒ‰å¼€å§‹æ—¶é—´æ’åº
2. ç”¨æœ€å°å †ç»´æŠ¤å½“å‰ç»“æŸæ—¶é—´
3. èƒ½å¤ç”¨å°±å¤ç”¨ï¼Œå¦åˆ™æ–°å¢

------

### ä»£ç 

```python
import heapq

def minHosts(intervals):
    intervals.sort()
    heap = []

    for l, r in intervals:
        if heap and heap[0] <= l:
            heapq.heappop(heap)
        heapq.heappush(heap, r)

    return len(heap)
```

------

### éå¸¸é‡è¦çš„ç†è§£

> **å †ä¸æ˜¯ä¸ºäº†æ’åºï¼Œè€Œæ˜¯ä¸ºäº†â€œå¿«é€Ÿæ‰¾åˆ°æœ€æ—©ç»“æŸçš„èµ„æºâ€**

------

## 2.9 è´ªå¿ƒä¸ºä»€ä¹ˆæœ‰æ—¶ä¼šå¤±è´¥ï¼Ÿ

#### è´ªå¿ƒä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¾ˆå¤šæ—¶å€™ç”¨è´ªå¿ƒæ— æ³•è§£å†³

- å±€éƒ¨æœ€ä¼˜ â‰  å…¨å±€æœ€ä¼˜
- å†³ç­–ä¹‹é—´æœ‰â€œåæ•ˆæ€§â€

------

### åˆ¤æ–­æ ‡å‡†ï¼ˆéå¸¸é‡è¦ï¼‰

å¦‚æœä¸€ä¸ªé—®é¢˜ï¼š

- å½“å‰é€‰æ‹©ä¼š**æ°¸ä¹…å½±å“æœªæ¥å¯è¡Œæ€§**
- ä¸”å½±å“æ— æ³•è¢«â€œæ’åºé¡ºåºâ€å®Œå…¨åˆ»ç”»

ğŸ‘‰ **è´ªå¿ƒå¾ˆå¯èƒ½ä¸æˆç«‹ï¼Œéœ€è¦ DP**ï¼ˆä¹Ÿæœ‰ä¸€ä¸ªæ¯”è¾ƒé‚ªä¿®çš„åŠæ³•â€”â€”å¤šå†™å‡ ä¸ªä¸åŒè§’åº¦çš„è´ªå¿ƒï¼Œå–ç»“æœæœ€ä¼˜è§£ï¼‰

------

## 2.10 æ’åº + è´ªå¿ƒ + DP çš„è¾¹ç•Œ

| ç‰¹å¾                | æ–¹æ³•      |
| ------------------- | --------- |
| ä¸€æ¬¡å†³å®šï¼Œä¸èƒ½å›å¤´  | è´ªå¿ƒ      |
| å†³å®šä¹‹é—´ç›¸äº’å½±å“    | DP        |
| éœ€è¦å…¨å±€æœ€çŸ­ / æœ€ä¼˜ | DP / æœç´¢ |

------

# ç¬¬ 3 ç« 

# æ ˆä¸å•è°ƒç»“æ„

------

## 3.1 stackçš„æ ¸å¿ƒ

**æš‚æ—¶è¿˜ä¸èƒ½ç¡®å®šç­”æ¡ˆçš„å…ƒç´ é›†åˆ**

ä¸€æ—¦æ¡ä»¶æ»¡è¶³ï¼Œå®ƒä»¬çš„ç­”æ¡ˆå°±â€œè¢«ç»“ç®—â€ã€‚

------

## 3.2 å•è°ƒç»“æ„çš„æ ¸å¿ƒæ€æƒ³

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“stacké€šå¸¸å¯¹åº”ä¸‹æ ‡ï¼Œé‚£ä¹ˆå•è°ƒæ ˆå°±æ˜¯ä¸ºäº†å‡†å¤‡ä¸€ä¸ªéšä¾ä¾¯é€‰çš„æœ‰åºé˜Ÿåˆ—ï¼Œæ–¹ä¾¿è°ƒåº¦

------

## 3.3 æœ€åŸºç¡€æ¨¡å‹ï¼šä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 

### ä¾‹é¢˜ 1ï¼šä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆNext Greater Elementï¼‰

ç»™å®šæ•°ç»„ `nums`ï¼Œ
å¯¹æ¯ä¸ªå…ƒç´ ï¼Œæ‰¾å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°ã€‚

------

### æ€è·¯æ‹†è§£

1. ä»å·¦åˆ°å³æ‰«æ
2. æ ˆä¸­å­˜ **è¿˜æ²¡æ‰¾åˆ°ç­”æ¡ˆçš„å…ƒç´ ä¸‹æ ‡**
3. ä¸€æ—¦å½“å‰å…ƒç´ æ›´å¤§
   â†’ æ ˆé¡¶å…ƒç´ çš„ç­”æ¡ˆç¡®å®š

------

### å•è°ƒæ€§

**æ ˆä¸­å…ƒç´ å€¼å•è°ƒé€’å‡**

------

### ä»£ç 

```python
def nextGreater(nums):
    n = len(nums)
    ans = [-1] * n
    stack = []  # å­˜ä¸‹æ ‡

    for i, x in enumerate(nums):
        while stack and nums[stack[-1]] < x:
            idx = stack.pop()
            ans[idx] = x
        stack.append(i)

    return ans
```

------

### æ³¨ï¼š

- å…ƒç´ **è¿›æ ˆä¸€æ¬¡ã€å‡ºæ ˆä¸€æ¬¡**
- æ—¶é—´å¤æ‚åº¦ (O(n))ï¼Œä¸æ˜¯ (O(n^2))

------

## 3.4 å·¦å³æœ€è¿‘æ›´å¤§ / æ›´å°å…ƒç´ 

### è¿™æ˜¯å•è°ƒæ ˆçš„â€œæ€»æ¨¡æ¿â€

------

### ç›®æ ‡

å¯¹æ¯ä¸ªå…ƒç´  `i`ï¼Œæ‰¾ï¼š

- å·¦ä¾§æœ€è¿‘ **æ›´å°**
- å³ä¾§æœ€è¿‘ **æ›´å°**

------

### ä»£ç æ¨¡æ¿ï¼ˆå³ä¾§æœ€è¿‘æ›´å°ï¼‰

```python
def rightSmaller(nums):
    n = len(nums)
    right = [n] * n
    stack = []

    for i in range(n):
        while stack and nums[stack[-1]] > nums[i]:
            right[stack.pop()] = i
        stack.append(i)

    return right
```

å·¦ä¾§åŒç†

------

ä¹‹äºå•è°ƒæ€§çš„ä¸¥æ ¼ä¸å¦ï¼Œè§†é¢˜ç›®è€Œå®š

------

## 3.5 åŒºé—´è´¡çŒ®æ€æƒ³

### æ ¸å¿ƒæ€æƒ³

**æ¯ä¸ªå…ƒç´ ä½œä¸ºâ€œæœ€å°å€¼ / æœ€å¤§å€¼â€ï¼Œèƒ½è¦†ç›–å¤šå¤§çš„åŒºé—´ï¼Ÿ**

------

### åŒºé—´è´¡çŒ®å…¬å¼

å¦‚æœå…ƒç´ ä½æ¬¡ `i`ï¼šå·¦è¾¹ç•Œï¼š`L` ï¼›å³è¾¹ç•Œï¼š`R`

é‚£ä¹ˆå®ƒä½œä¸ºæœ€å°å€¼çš„è´¡çŒ®åŒºé—´æ•°ï¼ˆæœ‰å¤šå°‘ä¸ªåŒºé—´çš„æœ€å°å­æ•°æ˜¯å®ƒï¼‰æ˜¯ï¼š

```text
(i - L) * (R - i)
```

------

## 3.6 ä¾‹é¢˜ 2ï¼šå­æ•°ç»„æœ€å°å€¼ä¹‹å’Œï¼ˆç»å…¸éš¾é¢˜ï¼‰

------

### é—®é¢˜æè¿°

ç»™å®šæ•°ç»„ `arr`ï¼Œ
æ±‚ **æ‰€æœ‰å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ**ã€‚

------

### æ­£ç¡®æ€è·¯

ä¸æšä¸¾å­æ•°ç»„ï¼Œ**æšä¸¾â€œæœ€å°å€¼æ˜¯è°â€**ã€‚

------

### æ€è·¯æ‹†è§£

1. ç”¨å•è°ƒæ ˆæ‰¾ï¼š
   - å·¦ä¾§æœ€è¿‘ä¸¥æ ¼å°äºarr[i]
   - å³ä¾§æœ€è¿‘å°æˆ–ç­‰äºarr[i]ï¼ˆé˜²æ­¢åœ¨åŒä¸€ä¸ªè´¡çŒ®åŒºé—´å†…æœ€å°å€¼å‡ºç°ä¸¤æ¬¡å¯¼è‡´é‡å¤è®¡ç®—ï¼Œæ•…ç›´æ¥å°†è¿™ä¸ªåŒºé—´åˆ†ç»™ä¸¤ä¸ªæœ€å°å€¼ï¼‰
2. è®¡ç®—æ¯ä¸ªå…ƒç´ çš„è´¡çŒ®

------

### ä»£ç ï¼ˆç†è§£çº§ï¼‰

```python
def sumSubarrayMins(arr):
    n = len(arr)
    left = [-1]*n
    right = [n]*n
    stack = []

    # å·¦è¾¹ç•Œ
    for i in range(n):
        while stack and arr[stack[-1]] > arr[i]:
            stack.pop()
        left[i] = stack[-1] if stack else -1
        stack.append(i)

    stack.clear()
    # å³è¾¹ç•Œ
    for i in range(n-1, -1, -1):
        while stack and arr[stack[-1]] >= arr[i]:
            stack.pop()
        right[i] = stack[-1] if stack else n
        stack.append(i)

    ans = 0
    for i in range(n):
        ans += arr[i] * (i - left[i]) * (right[i] - i)

    return ans
```

------

### éå¸¸é‡è¦çš„ä¸€ç‚¹

> **å·¦ä¸¥æ ¼ã€å³éä¸¥æ ¼ï¼ˆæˆ–åè¿‡æ¥ï¼‰
> æ˜¯ä¸ºäº†é¿å…é‡å¤è®¡ç®—**

------

## 3.7 æ¥é›¨æ°´é—®é¢˜ï¼ˆå•è°ƒæ ˆç‰ˆï¼‰

### ä¾‹é¢˜ 3ï¼šæ¥é›¨æ°´

------

### æ€è·¯ç›´è§‰

- å‡¹æ§½ç”± **å·¦å³æ›´é«˜çš„æŸ±å­** å†³å®š
- ä¸­é—´ä½çš„æŸ±å­å»¶è¿Ÿç»“ç®—

------

### æ€è·¯æ‹†è§£

1. ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆ
2. ä¸€æ—¦é‡åˆ°æ›´é«˜çš„æŸ±å­åˆ™å½¢æˆä¸€ä¸ªâ€œå‡¹æ§½â€

------

### ä»£ç ï¼ˆæ ¸å¿ƒç‰ˆï¼‰

```python
def trap(height):
    stack = []
    ans = 0
#é€å±‚è®¡ç®—
    for i, h in enumerate(height):
        while stack and height[stack[-1]] < h:
            bottom = stack.pop() #æ‰¾å‡¹æ§½
            if not stack: #æ ˆæ˜¯ç©ºçš„ï¼ˆä¸å†æœ‰å‡¹æ§½ï¼‰
                break
            left = stack[-1] #å³ä¾§é«˜åº¦å¯¹åº”çš„å·¦ä¾§é«˜åº¦
            w = i - left - 1 #æ°´å®½
            bounded = min(height[left], h) - height[bottom] #æ°´æ·±
            ans += w * bounded
        stack.append(i)

    return ans
```

------

## 3.8 æŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢

### ä¾‹é¢˜ 4ï¼šLargest Rectangle in Histogram

------

### æ€è·¯æœ¬è´¨

é¦–å…ˆè¦æ˜ç™½ï¼Œæœ€ç»ˆçš„çŸ©å½¢é«˜åº¦å¿…å®šæ˜¯heightsä¸­çš„å…ƒç´ 

é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¥åæ¨â€”â€”å½“çŸ©å½¢çš„é«˜ä¸€å®šçš„æ—¶å€™å®ƒçš„å®½æ˜¯å¤šå°‘ï¼Ÿ

è¿™å…¶å®å°±æ˜¯æŠŠæ‰¾åˆ°æ¯ä¸ªå…ƒç´ ä½œä¸ºæœ€å°å€¼æ—¶åˆ†åˆ«å¯¹åº”çš„æœ€é•¿è¿ç»­å­æ•°ç»„

------

### ç®—æ³•æ­¥éª¤

1. å¯¹æ¯æ ¹æŸ±å­ï¼š
   - æ‰¾å·¦è¾¹ç¬¬ä¸€ä¸ªæ›´çŸ®
   - æ‰¾å³è¾¹ç¬¬ä¸€ä¸ªæ›´çŸ®
2. é¢ç§¯ = é«˜åº¦ Ã— å®½åº¦

------

### ä»£ç ï¼ˆæ¨¡æ¿çº§ï¼‰

```python
def largestRectangleArea(heights):
    heights.append(0)
    stack = []
    ans = 0

    for i, h in enumerate(heights):
        while stack and heights[stack[-1]] > h:
            height = heights[stack.pop()]
            left = stack[-1] if stack else -1
            width = i - left - 1
            ans = max(ans, height * width)
        stack.append(i)

    return ans
```

------

## 3.9 å•è°ƒé˜Ÿåˆ—ï¼šæ»‘åŠ¨çª—å£æœ€å¤§å€¼

### ä¸å•è°ƒæ ˆçš„åŒºåˆ«

| æ ˆ       | é˜Ÿåˆ—     |
| -------- | -------- |
| åŒºé—´æ‰©å±• | æ»‘åŠ¨çª—å£ |
| å•å‘ç»“ç®— | åŠ¨æ€ç»´æŠ¤ |

------

### ä¾‹é¢˜ 5ï¼šæ»‘åŠ¨çª—å£æœ€å¤§å€¼

------

### æ€è·¯

- é˜Ÿåˆ—ä¸­æ—¶åˆ»ä¿æŒ **ä»å¤§åˆ°å°**
- çª—å£å·¦ç«¯ç§»å‡ºæ—¶åŒæ­¥ç»´æŠ¤

------

### ä»£ç 

```python
from collections import deque

def maxSlidingWindow(nums, k):
    q = deque()
    res = []

    for i, x in enumerate(nums):
        while q and nums[q[-1]] <= x: #å¼•å…¥æ–°æ•°æ®ï¼ŒåŒæ—¶ä¿æŒå•è°ƒæ€§
            q.pop()
        q.append(i)

        if q[0] <= i - k: #æ£€æŸ¥åŸæœ‰çš„æœ€å¤§å€¼æ˜¯ä¸æ˜¯çª—å£å·¦ç«¯ç‚¹ï¼Œè¿˜åœ¨ä¸åœ¨
            q.popleft()

        if i >= k - 1: #æ£€æŸ¥è¿™ä¸ªçª—å£æ˜¯å¦åˆæ³•
            res.append(nums[q[0]])

    return res
```

å…¶å®æ»‘åŠ¨çª—å£çš„æ€æƒ³éƒ½å¾ˆä¸€è‡´ï¼Œæ ¸å¿ƒå°±æ˜¯å–å®škï¼Œç„¶åç¡®ä¿å³è¿›ä¸€å·¦å‡ºä¸€

------

## 3.10 å•è°ƒç»“æ„çš„å®è´¨

ç”±ä»¥ä¸Šå†…å®¹æˆ‘ä»¬ä¸éš¾çœ‹å‡ºï¼Œç›¸è¾ƒäºå•çº¯çš„æ ˆâ€”â€”ä¸€ä¸ªå­˜å‚¨ç•™å¾…å¤„ç†çš„å…ƒç´ çš„ç»“æ„â€”â€”å•è°ƒæ ˆ/å•è°ƒç»“æ„æ›´å¤šçš„ä½œç”¨æ˜¯ä¿éšœ/å¯»æ‰¾ä¸€ä¸ªå¯¹åº”åŒºé—´å†…çš„æœ€å¤§/å°å€¼

------

# ç¬¬ 4 ç« 

# é€’å½’ã€DFS ä¸å›æº¯ï¼šçŠ¶æ€ç©ºé—´æ ‘ï¼ˆv2.0ï¼‰

------

## 4.1 æ ¸å¿ƒ

**é€’å½’ / DFS / å›æº¯ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ï¼šåœ¨ä¸€æ£µã€ŒçŠ¶æ€ç©ºé—´æ ‘ã€ä¸Šåšæœç´¢**

ä¸‹æ–‡ä¸­çš„ï¼šå…¨æ’åˆ—ã€å­é›†ã€N çš‡åã€æ•°ç‹¬ã€ç»„åˆæšä¸¾**å…¨éƒ¨éƒ½æ˜¯è¿™æ£µæ ‘çš„ä¸åŒå½¢æ€ã€‚**

å› æ­¤ï¼Œå°†**DFS**ï¼ˆ**Depth-First Search**ï¼Œ**æ·±åº¦ä¼˜å…ˆæœç´¢**ï¼‰ä¸**é€’å½’ã€å›æº¯**æ”¾åœ¨ä¸€èµ·æ¥ç†è§£

------

## 4.2 ä»€ä¹ˆæ˜¯â€œçŠ¶æ€ç©ºé—´æ ‘â€

### æŠŠé—®é¢˜æŠ½è±¡æˆä¸€æ£µæ ‘

- æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼š**ä¸€ä¸ªçŠ¶æ€**
- ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼š**ä¸€æ¬¡å†³ç­–**
- æ ¹èŠ‚ç‚¹ï¼šåˆå§‹çŠ¶æ€
- å¶èŠ‚ç‚¹ï¼šå®Œæ•´è§£ / å¤±è´¥è§£

------

### ä¸¾ä¾‹ï¼šå­é›†é—®é¢˜

æ•°ç»„ `[1,2,3]`

```css
            []
         /       \
       [1]       []
     /     \    /    \
 [1,2]  [1]  [2]     []
```

**DFS çš„è¿‡ç¨‹ï¼Œå°±æ˜¯æŠŠè¿™æ£µæ ‘â€œèµ°ä¸€éâ€**

------

## 4.3 é€’å½’çš„çœŸæ­£å«ä¹‰

**é€’å½’ = æŠŠâ€œå¤§é—®é¢˜â€æ‹†æˆâ€œç»“æ„å®Œå…¨ç›¸åŒçš„å°é—®é¢˜â€**

------

### é€’å½’ä¸‰è¦ç´ 

1. **çŠ¶æ€å‚æ•°**ï¼šæè¿°å½“å‰å¤„å¢ƒ
2. **é€’å½’å‡ºå£**ï¼šä»€ä¹ˆæ—¶å€™åœæ­¢
3. **é€’å½’è½¬ç§»**ï¼šå¦‚ä½•èµ°å‘ä¸‹ä¸€ä¸ªçŠ¶æ€

------

## 4.4 DFS ä¸å›æº¯çš„å…³ç³»

å•çº¯çš„dfsæœ‰ç§ä¸ç®¡åˆ«çš„è·¯å¾„æ­»æ´»çš„ç¾æ„Ÿâ€”â€”ä¹Ÿå°±æ˜¯åªè¦æˆ‘è¿™æ¡è·¯æŒ–å¾—å¤Ÿæ·±ï¼Œå¯ä»¥åˆ°è¾¾ç›®æ ‡å°±å¥½

è€Œå›æº¯å¯ä»¥é¿å…è¿™ä¸€é—®é¢˜

DFS åªæ˜¯â€œèµ°â€ï¼Œå›æº¯è¿˜è¦â€œå›æ¥â€ã€‚

å½“ä½ çš„çŠ¶æ€åŒ…å«ï¼š

- å¯å˜å¯¹è±¡ï¼ˆlist / setï¼‰
- å…¨å±€è·¯å¾„ï¼ˆpathï¼‰

å°±å¿…é¡»å›æº¯ã€‚

------

## 4.5 é€’å½’+å›æº¯çš„æ¨¡æ¿

```python
def backtrack(çŠ¶æ€):
    if æ»¡è¶³ç»“æŸæ¡ä»¶:
        è®°å½•å½“å‰ä¸€ç§ç­”æ¡ˆ
        return #è·³å‡ºå½“å‰ç»“æœ

    for æ¯ä¸€ç§é€‰æ‹©:
        åšé€‰æ‹©
        backtrack(æ–°çŠ¶æ€)
        æ’¤é”€é€‰æ‹©
```

**æ‰€æœ‰å›æº¯é¢˜ï¼Œéƒ½åœ¨å¡«è¿™ä¸ªæ¨¡æ¿**

------

## 4.6 ä¾‹é¢˜ 1ï¼šå…¨æ’åˆ—ï¼ˆPermutationï¼‰

------

### é—®é¢˜æè¿°

ç»™å®š arrï¼Œè¾“å‡ºæ‰€æœ‰æ’åˆ—ã€‚

------

### çŠ¶æ€è®¾è®¡

- pathï¼šå½“å‰æ’åˆ—
- usedï¼šå“ªäº›æ•°å·²ç»ç”¨è¿‡

------

### ä»£ç 

```python
def permute(nums):
    res = []
    used = [False] * len(nums)
    path = []

    def dfs():
        if len(path) == len(nums):
            res.append(path[:]) #é’ˆå¯¹å¯å˜å¯¹è±¡
            return

        for i in range(len(nums)):
            if used[i]:
                continue
            used[i] = True
            path.append(nums[i])
            dfs()
            path.pop()
            used[i] = False

    dfs()
    return res
```

------

### å¿…é¡»ç†è§£çš„ç‚¹

- `path[:]` æ˜¯ **æ‹·è´**
- `pop()` æ˜¯ **å›æº¯çš„çµé­‚**
- `dfs()`çš„å¥—ç”¨æ˜¯**é€’å½’çš„ä½“ç°** 
- used æ˜¯ **çŠ¶æ€çš„æ ‡å®š**

------

## 4.7 ä¾‹é¢˜ 2ï¼šå­é›†

------

### é—®é¢˜æè¿°

ç»™å®š `[1,2,3]`ï¼Œè¾“å‡ºæ‰€æœ‰å­é›†ã€‚

------

### ä¸æ’åˆ—çš„æœ¬è´¨åŒºåˆ«

|          | æ’åˆ— | å­é›†       |
| -------- | ---- | ---------- |
| é¡ºåºé‡è¦ | æ˜¯   | å¦         |
| çŠ¶æ€å‚æ•° | used | start ä¸‹æ ‡ |

------

### ä»£ç 

```python
def subsets(nums):
    res = []
    path = []

    def dfs(start):
        res.append(path[:])
        for i in range(start, len(nums)):
            path.append(nums[i])
            dfs(i + 1)
            path.pop()

    dfs(0)
    return res
```

------

### æ³¨ï¼š

**start å‚æ•° = å‰ªæ + å»é‡**

------

## 4.8 ä¾‹é¢˜ 3ï¼šç»„åˆæ€»å’Œï¼ˆå›æº¯ + å‰ªæï¼‰

------

### é—®é¢˜æè¿°

ç»™å®šå€™é€‰æ•°ç»„ï¼Œå¯é‡å¤ä½¿ç”¨ï¼Œæ±‚å’Œä¸º targetã€‚

------

### æ€è·¯â€”â€”é€‰åæ’¤å›ï¼ˆå›æº¯çš„æ ¸å¿ƒï¼‰

- æ’åº
- å‰ªæï¼ˆå½“å‰å’Œ > targetï¼‰

------

### ä»£ç 

```python
def combinationSum(candidates, target):
    res = []
    path = []
    candidates.sort()

    def dfs(start, remain):
        if remain == 0: #æ‰¾åˆ°åˆæ³•ç»„åˆ
            res.append(path[:])
            return
        for i in range(start, len(candidates)): #æšä¸¾é€‰å“ªä¸€ä¸ª
            if candidates[i] > remain:
                break
            path.append(candidates[i])
            dfs(i, remain - candidates[i]) #é€‰å®š
            path.pop() #æ’¤å›

    dfs(0, target)
    return res
```

æ­¤å¤„å…¶å®æœ‰ç±»ä¼¼äºå®Œå…¨èƒŒåŒ…é—®é¢˜çš„åšæ³•ï¼Œå°†é€‰åæ’¤å›æ”¹æˆé€‰ä¸é€‰start+1çš„é—®é¢˜ï¼Œå³ï¼š

```python
def combinationSum(candidates, target):
    res = []
    path = []
    candidates.sort()

    def dfs(start, remain):
        if remain == 0: #æ‰¾åˆ°åˆæ³•ç»„åˆ
            res.append(path[:])
            return
        if start == len(candidates) or remain<candidates[start]: #åˆ¤æ–­è¿™æ¡è·¯æœ‰æ²¡æœ‰èµ°åˆ°å¤´
            return
        dfs(start+1,remain) #ä¸é€‰start
        path.append(candidates[start]) #é€‰start
        dfs(start, remain - candidates[start]) 
        path.pop() #æ’¤å›â€”â€”æ— è®ºæ˜¯é‚£ç§åšæ³•ï¼Œéƒ½å¿…é¡»æœ‰popæ¥ä¿è¯æ¯ä¸€æ­¥çš„dfså¯ä»¥å›å»

    dfs(0, target)
    return res
```

------

## 4.9 N çš‡åé—®é¢˜

------

### åŸºæœ¬é‡

- rowï¼šå½“å‰è¡Œ
- colsï¼šåˆ—æ˜¯å¦è¢«å 
- diag1ï¼šä¸»å¯¹è§’çº¿
- diag2ï¼šå‰¯å¯¹è§’çº¿

------

### æ ¸å¿ƒæ€æƒ³

ä»ræ¨å‡ºr+1çš„æƒ…å†µï¼Œä¸æ–­æ‰©å……æ£‹ç›˜ç›´è‡³n

------

### å®è´¨

æœ‰è¦æ±‚çš„åˆ—æ•°å­—çš„å…¨æ’åˆ—

------

### ä»£ç ï¼ˆç®€åŒ–ç†è§£ç‰ˆï¼‰

```python
def solveNQueens(n):
    ans = []
    cols = set()
    diag1 = set()
    diag2 = set()
    path = []

    def dfs(r):
        if r == n: #è¾¾åˆ°nç»´è¦æ±‚
            ans.append(path[:])
            return

        for c in range(n):
            if c in cols or r-c in diag1 or r+c in diag2: #æ’é™¤åŒåˆ—ã€åŒå¯¹è§’çº¿çš„æƒ…å†µ
                continue
            cols.add(c)
            diag1.add(r-c)
            diag2.add(r+c)
            path.append(c)
            dfs(r + 1)
            #æ’¤å›
            path.pop()
            cols.remove(c)
            diag1.remove(r-c)
            diag2.remove(r+c)

    dfs(0)
    return ans
```

------

## 4.10 å‰ªæç­–ç•¥æ€»ç»“

åœ¨é¢å¯¹dfs+backtrack+recursionçš„æƒ…å†µä¸­ï¼Œæ˜¾ç„¶ä¼šå› ä¸ºæ·±åº¦æ·±ä»¥åŠçŠ¶å†µè¿‡å¤šçš„æƒ…å†µå¯¼è‡´çˆ†ç‚¸ï¼Œè¿™ç§æ—¶å€™å°±éœ€è¦å‡å»ä¸å¿…æƒ…å†µ

### å¸¸è§å‰ªæç±»å‹

1. **é¡ºåºå‰ªæ**â€”â€”start ä¸‹æ ‡
2. **å¯è¡Œæ€§å‰ªæ**â€”â€”è¶…å‡º target
3. **å¯¹ç§°å‰ªæ**â€”â€”é‡å¤æ’åˆ—
4. **çº¦æŸå‰ªæ**â€”â€”çš‡åå†²çª

------

## 4.11 DFS vs è®°å¿†åŒ– DFS

### ä¸€ä¸ªå…³é”®åˆ¤æ–­æ ‡å‡†

å¦‚æœdfsä¸­å­˜åœ¨æŸä¸ªçŠ¶æ€ï¼šä¼šè¢«åå¤è®¿é—®ä¸”è¿”å›å€¼åªä¾èµ–çŠ¶æ€æœ¬èº«

ğŸ‘‰ **å¯ä»¥ç”¨è®°å¿†åŒ– DFS**

------

### ç¤ºä¾‹ï¼šæ–æ³¢é‚£å¥‘

```python
from functools import lru_cache

@lru_cache(None) #Noneæ˜¯æ— é™åˆ¶çš„ç¼“å­˜ï¼Œå®é™…æƒ…å†µä¸ä¸€å®šéœ€è¦Noneï¼Œé€‚å½“å¡«å†™maxsizeå³å¯
                 #æ³¨ï¼šlru_cacheä¸€å®šè¦å†™åœ¨æ‰€éœ€çš„è®°å¿†åŒ–å‡½æ•°çš„ä¸Šä¸€è¡Œ
def fib(n):
    if n <= 1:
        return n
    return fib(n-1) + fib(n-2)
print(fib(2048)) #åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªfib(k)ä»…éœ€è®¡ç®—ä¸€æ¬¡ï¼Œæ­¤åå¯ç›´æ¥è°ƒç”¨
```

------

# ç¬¬ 5 ç« 

# åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰ï¼šç³»ç»Ÿæ€§è®¡ç®—çŠ¶æ€

------

## 5.1 æœ¬è´¨ç»“è®º

å…¶å®åœ¨è¿™é‡Œå¯ä»¥ç®€å•çš„å°†dpç†è§£ä¸ºéœ€è¦è®°å¿†çš„é€’å½’

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸è€ƒè™‘å„ç§æˆæœ¬é—®é¢˜çš„è¯ï¼Œå…¶å®dpå’Œé€’å½’åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å­˜åœ¨ç›¸ä¼¼æ€§ä¸ç›¸äº’è½¬åŒ–çš„èƒ½åŠ›çš„ã€‚ä¸¤ç§ç®—æ³•çš„æœ¬è´¨è¦æ±‚å…¶å®éƒ½æ˜¯æ‰¾åˆ°æ¸…æ™°æ˜äº†çš„ä¸åŒçŠ¶æ€ä¹‹é—´çš„è½¬ç§»å…³ç³»â€”â€”çŠ¶æ€è½¬ç§»æ–¹ç¨‹

------

## 5.2 ä»€ä¹ˆæ—¶å€™â€œåº”è¯¥æƒ³åˆ° DPâ€

ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåŒæ—¶æ»¡è¶³ï¼š**æœ‰é‡å å­é—®é¢˜**ã€**ä¸€ä¸ªçŠ¶æ€çš„ç­”æ¡ˆåªä¾èµ–äºæ›´â€œç®€å•â€çš„çŠ¶æ€**ã€**å¯ä»¥äººä¸ºè§„å®šè®¡ç®—é¡ºåº**

é‚£ä¹ˆâ€”â€” **DP æ˜¯ç¬¬ä¸€é€‰æ‹©**

------

## 5.3 DP çš„å»ºæ¨¡æ–¹æ³•

åœ¨é€’å½’é—®é¢˜ä¸­ï¼Œå¤„ç†çš„å…³é”®æ˜¯ææ˜ç™½ä¸åŒæƒ…å†µé—´çš„å…³ç³»ï¼Œä½†æˆ‘ä»¬æ‰€åšçš„é€’å½’çš„é¢˜ç›®ä¸­çŠ¶æ€å¸¸å¸¸æ˜¯æ˜ç¡®çš„ã€‚è€Œåœ¨dpé¢˜ç›®ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°çŠ¶æ€ä¸æ˜ç¡®çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¼šæœ‰å¦‚ä¸‹çš„æ­¥éª¤ï¼š

------

### ç¬¬ä¸€æ­¥ï¼šçŠ¶æ€å®šä¹‰

> **dp[i] è¡¨ç¤ºä»€ä¹ˆï¼Ÿ**

ä¸€ä¸ªå¥½çš„çŠ¶æ€å®šä¹‰è¦æ»¡è¶³ï¼š

- ä¸å¤šâ€”â€”egï¼šæœ‰äº›dpæ—¢å¯ä»¥ç”¨äºŒç»´æ•°ç»„è¡¨è¾¾ä¹Ÿå¯ä»¥ç”¨ä¸€ç»´æ•°ç»„ï¼Œæ­¤æ—¶æ˜¾ç„¶ä¸€ç»´æ›´ä¼˜
- ä¸å°‘â€”â€”èƒ½å¤Ÿå……åˆ†è¡¨è¾¾å‡ºä¸åŒçŠ¶æ€çš„ä¿¡æ¯
- åªä¾èµ–â€œè¿‡å»â€

------

### ç¬¬äºŒæ­¥ï¼šçŠ¶æ€è½¬ç§»

å¸¸å¸¸éœ€è¦ç±»ä¼¼äºæ•°åˆ—é€’æ¨å¼çš„è¡¨è¾¾å¼ï¼ˆä¹Ÿå¯èƒ½ä¼šæ·»åŠ å¤æ‚çš„é™åˆ¶ä¸åˆ¤æ–­æ¡ä»¶ï¼‰

------

### ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–

è§„å®šå¥½å„ç§0çŠ¶æ€/åŸºæœ¬é‡ä»¥åŠé™åˆ¶ä¸åˆæ³•çš„çŠ¶æ€

------

### ç¬¬å››æ­¥ï¼šéå†é¡ºåº

ä¿è¯æ•°åˆ—é€’æ¨æ˜¯ä¸€æ­¥æ­¥è¿›è¡Œçš„

------

## 5.4 ä¸€ç»´ DP

------

### ä¾‹é¢˜ 1ï¼šçˆ¬æ¥¼æ¢¯

------

#### é—®é¢˜

ä¸€æ¬¡çˆ¬ 1 æˆ– 2 æ­¥ï¼Œçˆ¬åˆ°ç¬¬ n é˜¶æœ‰å‡ ç§æ–¹æ³•ï¼Ÿ

------

#### çŠ¶æ€å®šä¹‰

```text
dp[i] = çˆ¬åˆ°ç¬¬ i é˜¶çš„æ–¹æ³•æ•°
```

------

#### è½¬ç§»æ–¹ç¨‹

```text
dp[i] = dp[i-1] + dp[i-2]
```

------

#### åˆå§‹åŒ–

```text
dp[0] = 1
dp[1] = 1
```

------

#### ä»£ç 

```python
def climbStairs(n):
    dp=[0]*(n+1)
    dp[0], dp[1] = 1, 1
    for i in range(2, n+1):
        dp[i] = dp[i-1] + dp[i-2]
    return dp[n]
```

æ˜¾ç„¶ï¼Œè¿™é‡Œçš„dpå…¶å®å¹¶ä¸æ˜¯éšæ—¶éƒ½éœ€è¦å¤§é‡çš„å·²è®¡ç®—è¿‡çš„æ•°æ®ï¼Œæ‰€ä»¥å¹¶éœ€è¦å®Œå…¨å­˜å‚¨å·²ç®—è¿‡çš„çŠ¶æ€â€”â€”è¿™äº‹å°±å¯ä»¥å¼•å…¥æ»šåŠ¨æ•°ç»„çš„æ–¹æ³•ï¼šå¤ç”¨å­˜å‚¨ç©ºé—´

```python
def climbStairs(n):
    a, b = 1, 1
    for _ in range(2, n+1):
        a, b = b,a + b
    return b
```

è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆé™ä½ç©ºé—´å¤æ‚åº¦ï¼Œæ¥ä¸‹æ¥çš„01èƒŒåŒ…å®é™…ä¸Šå°±æ˜¯æŠŠä¸€ä¸ªäºŒç»´æ•°ç»„ç®€åŒ–ä¹‹åçš„

------

## 5.5 èƒŒåŒ… DPï¼ˆDP çš„ç¬¬ä¸€åº§å¤§å±±ï¼‰

------

## 5.5.1 01 èƒŒåŒ…ï¼ˆæœ€æ ¸å¿ƒæ¨¡å‹ï¼‰

------

### é—®é¢˜æè¿°

æ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ï¼Œå®¹é‡ä¸º Wï¼Œæœ€å¤§ä»·å€¼ï¼Ÿ

------

### çŠ¶æ€å®šä¹‰

```text
dp[w] = å®¹é‡ä¸º w æ—¶çš„æœ€å¤§ä»·å€¼
```

------

### çŠ¶æ€è½¬ç§»

```text
dp[w] = max(dp[w], dp[w-weight[i]] + value[i])
```

------

### éå†é¡ºåºï¼ˆéå¸¸é‡è¦ï¼‰

> **w å¿…é¡»ä»å¤§åˆ°å°**

------

### ä»£ç 

```python
def knapsack(weights, values, W):
    dp = [0]*(W+1)
    for wgt, val in zip(weights, values):
        for w in range(W, wgt-1, -1):
            dp[w] = max(dp[w], dp[w-wgt] + val)
    return dp[W]
```

------

### ä¸€å¥è¯æœ¬è´¨

> **å€’åºéå† = é˜²æ­¢ä¸€ä¸ªç‰©å“è¢«ç”¨å¤šæ¬¡**

------

## 5.5.2 å®Œå…¨èƒŒåŒ…

------

### å”¯ä¸€å˜åŒ–

> **w ä»å°åˆ°å¤§éå†**

------

### ä»£ç å¯¹æ¯”

```python
for w in range(wgt, W+1):
    dp[w] = max(dp[w], dp[w-wgt] + val)
```

------

### æœ¬è´¨å·®å¼‚æ€»ç»“

| èƒŒåŒ…ç±»å‹ | w éå†   | æ•ˆæœ                     |
| -------- | -------- | ------------------------ |
| 01 èƒŒåŒ…  | ä»å¤§åˆ°å° | é˜²æ­¢é‡å¤ä½¿ç”¨åŒä¸€ä¸ªç‰©å“   |
| å®Œå…¨èƒŒåŒ… | ä»å°åˆ°å¤§ | å®ç°åŒä¸€ä¸ªç‰©å“çš„é‡å¤åˆ©ç”¨ |

------

## 5.5.3 å¤šé‡èƒŒåŒ…

------

### é—®é¢˜

æ¯ä¸ªç‰©å“æœ‰æ•°é‡é™åˆ¶ã€‚

------

### æ ¸å¿ƒæ€æƒ³â€”â€”å®é™…ä¸Šå°±æ˜¯å¤šä¸ª01èƒŒåŒ…

ä¸€ï¼šå¯ä»¥ç®€å•åœ°æŠŠæ¯ä¸€ä¸ªç‰©å“å½“æˆä¸€ä¸ªç‹¬ç«‹çš„ä¸ªä½“ï¼Œç„¶åå°±åˆå˜æˆäº†01èƒŒåŒ…

äºŒï¼šå¯ä»¥ç”¨äºŒè¿›åˆ¶çš„æ‹†åˆ†æ–¹æ³•ï¼Œå°†æ¯ä¸ªç‰©å“çš„æ•°é‡æ‹†åˆ†æˆ1+2+4+8+...+ä½™é¡¹

```python
def manybag():
    #sä¸ºæ¯ä¸ªç‰©å“çš„ä¸ªæ•°
    dp=[0]*(W+1)
    for i in range(1,n+1):
        k=1
        while s[i]>0:
            cnt=min(k,s[i])
            for j in range(V,cnt*cost[i]-1,-1):
                dp[j]=max(dp[j],cnt*price[i]+dp[j-cnt*cost[i]])
            s[i]-=cnt
            k*=2
    return dp[-1]
```

------

### æ„ä¹‰

> **å¤šé‡èƒŒåŒ… â†’ è‹¥å¹²ä¸ª 01 èƒŒåŒ…**

------

## 5.5.4 äºŒç»´è´¹ç”¨èƒŒåŒ…

------

### é—®é¢˜

ä¸01èƒŒåŒ…ç›¸æ¯”ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨weightä»¥å¤–å†å¤šäº†ä¸€é¡¹é™åˆ¶æ¡ä»¶ï¼ˆegï¼šcostï¼‰ æ‰€ä»¥å…¶å®å†å¥—ä¸€å±‚é€†å‘å¾ªç¯å°±å¥½äº†

### çŠ¶æ€å®šä¹‰

```text
dp[w][c] = åœ¨é‡é‡ wã€è´¹ç”¨ c ä¸‹çš„æœ€å¤§ä»·å€¼
```

------

### ä»£ç 

```python
def knapsack(weights, costs, values, W,C):
    dp = [[0]*(W+1) for _ in range(C+1)]
    for wgt, cos, val in zip(weights, costs, values):
        for w in range(W, wgt-1, -1):
            for c in range(C, cos-1,-1):
                dp[w][c] = max(dp[w][c], dp[w-wgt][c-cos] + val)
    return dp[W][C]
```

------

### æœ¬è´¨

> **çŠ¶æ€å¤šäº†ä¸€ç»´çº¦æŸ**

------

## 5.5.5 æ°å¥½è£…æ»¡ vs ä¸å¿…è£…æ»¡ï¼ˆææ˜“è€ƒï¼‰

------

### åŒºåˆ«åœ¨åˆå§‹åŒ–

- ä¸å¿…è£…æ»¡ï¼š`dp[0] = 0`â€”â€”ç”¨ä¸åˆ°å°±æ˜¯0
- æ°å¥½è£…æ»¡ï¼š
  - `dp[0] = 0`
  - å…¶ä»–åˆå§‹åŒ–ä¸º `-inf`â€”â€”å¿…é¡»èµ°å¯ä»¥ç”¨å®Œçš„è·¯

------

## 5.6 æ•´æ•°åˆ’åˆ†é—®é¢˜â€”â€”æ¯ä¸ªæ•°å­—è§†ä¸ºä¸€ä¸ªç‰©å“

------

### ä¾‹é¢˜ 2ï¼šæ•´æ•° n åˆ’åˆ†ä¸ºè‹¥å¹²æ­£æ•´æ•°ï¼ˆä¸è€ƒè™‘é¡ºåºï¼‰

------

### å»ºæ¨¡æ–¹å¼

> **å®Œå…¨èƒŒåŒ…**

------

### çŠ¶æ€å®šä¹‰

```text
dp[i] = å’Œä¸º i çš„åˆ’åˆ†æ–¹æ¡ˆæ•°
```

------

### è½¬ç§»

```python
dp[i] += dp[i - k] #æ²¡åŠ å…¥ä¸€ä¸ªåˆ†å‰²åŸºæ•°k
```

------

### ä»£ç 

```python
def divide1(n):
    dp=[1]+[0]*n #0åˆ’åˆ†åªæœ‰ä¸€ç§
    for i in range(1,n+1):
        for j in range(i,n+1): #æ­£å‘éå†æ¯ä¸ªå®¹é‡ï¼ˆæ¯ä¸ªnï¼‰
            dp[j]+=dp[j-i]
    return dp[n]
```

------

### æœ¬è´¨ç†è§£

> **â€œä¸è€ƒè™‘é¡ºåºâ€ = å›ºå®šæŸä¸€é¡ºåº=ç‰©å“ç”±å°åˆ°å¤§æ”¾å…¥**

### è‹¥è€ƒè™‘é¡ºåºï¼š

### ä»£ç 

```python
def divide2(n):
    dp=[1]+[0]*n
    for i in range(1,n+1):
        for j in range(1,i+1): #æ¯”iå°çš„æ•°å­—çš„æ’æ”¾é¡ºåºåœ¨è¿™ä¸€æ­¥è¿›è¡Œæ”¹å˜
            dp[i]+=dp[i-j]
    return dp[n]
```

### è‹¥åˆ†æˆçš„æ•°å­—è¦ä¸åŒï¼Œä½†ä¸è€ƒè™‘é¡ºåº

------

### å»ºæ¨¡æ–¹å¼

> **01èƒŒåŒ…**

------

### ä»£ç 

```python
def divide3(n):
    dp=[1]+[0]*n
    for i in range(1,n+1):
        for j in range(n,i-1,-1):
            dp[j]+=dp[j-i]
    return dp[n]
```

### è‹¥åˆ†æˆkä¸ªæ­£æ•´æ•°ï¼Œä¸è€ƒè™‘é¡ºåº

### ä»£ç 

```python
def divide4(n,k):
    dp=[[0]*(k+1) for _ in range(n+1)]
    for i in range(n+1):
        dp[i][1]=1
    for i in range(1,n+1):
        for j in range(2,k+1):
            if i>=j:
                dp[i][j]=dp[i-1][j-1]+dp[i-j][j]
    return dp[n][k]
```

---

------

## 5.7 åºåˆ— DP

------

### ä¾‹é¢˜ 3ï¼šæœ€é•¿é€’å¢å­åºåˆ—ï¼ˆLISï¼‰

------

## 5.7.1 O(nÂ²) DP ç‰ˆ

------

### çŠ¶æ€å®šä¹‰

```text
dp[i] = ä»¥ i ç»“å°¾çš„ LIS é•¿åº¦
```

------

### è½¬ç§»

```text
dp[i] = max(dp[i], dp[j] + 1), j < i ä¸” nums[j] < nums[i]
```

------

### ä»£ç 

```python
def LIS(nums):
    n = len(nums)
    dp = [1]*n
    for i in range(n):
        for j in range(i):
            if nums[j] < nums[i]:
                dp[i] = max(dp[i], dp[j] + 1)
    return max(dp)
```

------

## 5.7.2 O(n log n) + bisect

------

### æ ¸å¿ƒæ€æƒ³

**dp[k] = é•¿åº¦ä¸º k çš„ LIS çš„æœ€å°ç»“å°¾å€¼**(å…¶å®åº”è¯¥æ”¾åˆ°stacké‚£é‡Œçš„)

------

### ä»£ç 

```python
import bisect

def LIS(nums):
    dp = []
    for x in nums:
        pos = bisect.bisect_left(dp, x)
        if pos == len(dp):
            dp.append(x)
        else:
            dp[pos] = x
    return len(dp)
```

------

**dp æ•°ç»„æœ¬èº«ä¸æ˜¯ç­”æ¡ˆåºåˆ—**

------

## 5.8 åŒºé—´ DP

------

### ä¾‹é¢˜ 4ï¼šæˆ³æ°”çƒ

------

### çŠ¶æ€å®šä¹‰

```text
dp[l][r] = æˆ³ç ´ (l, r) åŒºé—´çš„æœ€å¤§å¾—åˆ†
```

------

### è½¬ç§»

```text
dp[l][r] = max(dp[l][k] + dp[k][r] + nums[l]*nums[k]*nums[r])
```

------

### éå†é¡ºåº

> **åŒºé—´é•¿åº¦ä»å°åˆ°å¤§**

------

## 5.9 çŠ¶æ€å‹ç¼© DP

------

### ä¾‹é¢˜ 5ï¼šæ—…è¡Œå•†é—®é¢˜ï¼ˆTSPï¼‰

------

### çŠ¶æ€å®šä¹‰

```text
dp[visited][i] = è®¿é—® maskï¼Œæœ€ååœ¨ i çš„æœ€çŸ­è·¯
```

------

### ä»£ç 

```python
n=int(input())
M=[list(map(int,input().split())) for _ in range(n)]
max_=float('inf')
dp=[[max_]*n for _ in range(1<<n)];dp[1][0]=0
for visited in range(1,1<<n):
    for i in range(n):
        if dp[visited][i]==max_:
            continue
        for j in range(n):
            if visited & (1<<j):
                continue
            newvisited=visited|1<<j
            newcost=dp[visited][i]+M[i][j]
            if newcost<dp[newvisited][j]:
                dp[newvisited][j]=newcost
ans=max_
for i in range(n):
    if dp[(1<<n)-1][i]!=max_:
        ans=min(ans,dp[(1<<n)-1][i]+M[i][0])
print(ans)
```

------

# ç¬¬ 6 ç« 

# æœç´¢ç®—æ³•ï¼šBFS / Dijkstra / çŠ¶æ€æœ€çŸ­è·¯ï¼ˆv2.0ï¼‰

------

## 6.1 æ€»çº²

**æœç´¢ç®—æ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨â€œçŠ¶æ€ç©ºé—´å›¾â€ä¸Šæ±‚æœ€ä¼˜å€¼**

------

## 6.2 çŠ¶æ€ç©ºé—´å›¾çš„ç»Ÿä¸€å»ºæ¨¡

```text
çŠ¶æ€ = (ä½ç½®, é™„åŠ çŠ¶æ€)
è¾¹ = ä¸€æ¬¡åˆæ³•æ“ä½œ
ä»£ä»· = æ“ä½œçš„èŠ±è´¹
ç›®æ ‡ = æœ€å°æ€»ä»£ä»·
```

------

## 6.3 BFSï¼šæ— æƒå›¾çš„æœ€çŸ­è·¯

------

### BFS çš„çŠ¶æ€å«ä¹‰

```python
queue ä¸­çš„å…ƒç´  = å½“å‰è¿™ä¸€â€œå±‚â€çš„çŠ¶æ€
```

------

### BFS æ ‡å‡†æ¨¡æ¿

```python
from collections import deque

def bfs(start):
    q = deque([start])
    dist = {start: 0}

    while q:
        cur = q.popleft()
        for nxt in neighbors(cur):
            if nxt not in dist:
                dist[nxt] = dist[cur] + 1
                q.append(nxt)
```

------

### visited vs distï¼ˆæé‡è¦ï¼‰

| æƒ…å†µ           | ç”¨ä»€ä¹ˆ  |
| -------------- | ------- |
| åªå…³å¿ƒæ˜¯å¦è®¿é—® | visited |
| å…³å¿ƒæœ€çŸ­è·ç¦»   | dist    |

> **dist çš„å­˜åœ¨ï¼Œæœ¬èº«å°±éšå«äº† visited**

------

## 6.4 å¤šæº BFSï¼ˆå†æ¬¡å¼ºåŒ–ï¼‰

------

### æ ¸å¿ƒæ€æƒ³

> **å¤šä¸ªèµ·ç‚¹ = åŒæ—¶å…¥é˜Ÿ**

------

### å…¸å‹ç‰¹å¾

- åˆå§‹é˜Ÿåˆ—ä¸æ­¢ä¸€ä¸ªçŠ¶æ€
- è·ç¦»ä» 0 åŒæ—¶å‘å¤–æ‰©æ•£

------

## 6.5 åŒå‘ BFS

------

- èµ·ç‚¹æ˜ç¡®

- ç»ˆç‚¹æ˜ç¡®
- çŠ¶æ€ç©ºé—´å·¨å¤§

------

### æ ¸å¿ƒæ€æƒ³

> **ä»èµ·ç‚¹å’Œç»ˆç‚¹åŒæ—¶æ‰©å±•ï¼Œ
> åœ¨ä¸­é—´ç›¸é‡**

------

### æ—¶é—´å¤æ‚åº¦ç›´è§‰

- å•å‘ BFSï¼š(O(b^d))
- åŒå‘ BFSï¼š(O(b^{d/2}))

------

### æ¨¡æ¿

```python
front = {start}
back = {end}
visited = {start, end}
step = 0

while front and back:
    if len(front) > len(back):
        front, back = back, front

    next_front = set()
    for cur in front:
        if cur in back:
            return step
        for nxt in neighbors(cur):
            if nxt not in visited:
                visited.add(nxt)
                next_front.add(nxt)

    front = next_front
    step += 1
```

------

## 6.6 Dijkstraï¼šæ­£æƒæœ€çŸ­è·¯

------

### ä½¿ç”¨å‰æï¼ˆä¸€å®šè¦æ£€æŸ¥ï¼‰

> **æ‰€æœ‰è¾¹æƒ â‰¥ 0**

------

### æ ¸å¿ƒæ€æƒ³

**æ¯æ¬¡ç¡®å®šâ€œå½“å‰è·ç¦»æœ€å°â€çš„çŠ¶æ€ï¼Œä¸”è¿™ä¸ªè·ç¦»ä¸å¯èƒ½å†è¢«æ›´æ–°**

------

### Dijkstra æ¨¡æ¿ï¼ˆæå…¶é‡è¦ï¼‰

```python
import heapq

def dijkstra(start):
    heap = [(0, start)]
    dist = {start: 0}

    while heap:
        d, cur = heapq.heappop(heap)
        if d > dist[cur]:
            continue  # æ‡’åˆ é™¤

        for nxt, w in graph[cur]:
            nd = d + w
            if nxt not in dist or nd < dist[nxt]:
                dist[nxt] = nd
                heapq.heappush(heap, (nd, nxt))
```

------

### æ‡’åˆ é™¤

> **å †ä¸­å…è®¸â€œè¿‡æœŸçŠ¶æ€â€ï¼Œ
> å‡ºå †æ—¶å†åˆ¤æ–­**

------

## 6.7 BFS vs Dijkstra çš„æœ¬è´¨å¯¹æ¯”

| ç‰¹å¾     | BFS   | Dijkstra   |
| -------- | ----- | ---------- |
| è¾¹æƒ     | ç›¸ç­‰  | éè´Ÿ       |
| æ•°æ®ç»“æ„ | deque | heap       |
| æ‰©å±•é¡ºåº | æŒ‰å±‚  | æŒ‰æœ€å°è·ç¦» |

------

## 6.8 çŠ¶æ€æœ€çŸ­è·¯ï¼ˆv2.0 é‡ç‚¹ï¼‰

------

### ä»€ä¹ˆæ˜¯â€œçŠ¶æ€æœ€çŸ­è·¯â€ï¼Ÿ

> **èŠ‚ç‚¹è¦æ±‚å¤–ï¼Œè¿˜æœ‰é™„åŠ çŠ¶æ€è¦æ±‚**

------

### ä¾‹å­

- æœ‰é’¥åŒ™ / æ²¡é’¥åŒ™
- å‰©ä½™èƒ½é‡
- å·²ç”¨æ¬¡æ•°

------

### çŠ¶æ€å®šä¹‰ç¤ºä¾‹

```text
(x, y, key_mask)
```

------

### ç®—æ³•é€‰æ‹©

| æƒ…å†µ        | æ–¹æ³•     |
| ----------- | -------- |
| çŠ¶æ€ + æ— æƒ | BFS      |
| çŠ¶æ€ + æœ‰æƒ | Dijkstra |

------

### visited çš„å…³é”®å˜åŒ–

```text
visited[x][y][mask]
```

------

# ç¬¬ 7 ç« 

# äºŒåˆ†ç­”æ¡ˆ

------

## 7.1 äºŒåˆ†ç­”æ¡ˆï¼ˆBinary Search on Answerï¼‰

**ä¸æ˜¯åœ¨æ•°ç»„é‡Œæ‰¾æ•°è€Œæ˜¯åœ¨â€œç­”æ¡ˆç©ºé—´â€é‡Œæ‰¾æœ€ä¼˜å€¼**

------

### å…¸å‹é¢˜å‹ç‰¹å¾

- æœ€å¤§å€¼ä¸­çš„æœ€å°ï¼›æœ€å°å€¼ä¸­çš„æœ€å¤§ï¼›æ˜¯å¦å­˜åœ¨ä¸€ä¸ª Xï¼Œä½¿å¾—æ¡ä»¶æˆç«‹

------

### æ ¸å¿ƒå‰æ

> **å¯è¡Œæ€§å‡½æ•°æ˜¯å•è°ƒçš„**

```text
X å¯è¡Œ â†’ X-1 ä¹Ÿå¯è¡Œ
X ä¸å¯è¡Œ â†’ X+1 ä¹Ÿä¸å¯è¡Œ
```

------

### ç»å…¸æ¨¡å‹ï¼šAggressive Cows

------

### é—®é¢˜ç®€è¿°

- ç»™å®šè‹¥å¹²ä½ç½®
- æ”¾ k å¤´ç‰›
- æœ€å¤§åŒ–ç‰›ä¹‹é—´çš„æœ€å°è·ç¦»

------

### æ€è·¯æ‹†è§£

1. ç­”æ¡ˆæ˜¯â€œæœ€å°è·ç¦»â€
2. å¯¹è·ç¦» dï¼š
   - èƒ½å¦æ”¾ä¸‹ k å¤´ç‰›ï¼Ÿ
3. å¯è¡Œæ€§æ˜¯å•è°ƒçš„ â†’ äºŒåˆ†

------

### ä»£ç 

```python
n,c=map(int,input().split())
positions=sorted([int(input()) for _ in range(n)])
def accesible(cows,step,positions,n):
    count=1
    last=positions[0]
    for i in range(1,n):
        if count>=cows:
            break
        if positions[i]-last>=step:
            count+=1
            last=positions[i]
    return int(count>=cows)
left=1;right=positions[-1]-positions[0]
while left<=right:
    mid=left+(right-left)//2
    if accesible(c,mid,positions,n)==1:
        result=mid
        left=mid+1
    else:
        right=mid-1
print(result)
```

------

## 

#### PSï¼šç›®å‰åªæœ‰è¿™äº›äº† å¸Œæœ›èƒ½å°½å¯èƒ½è¦†ç›–åˆ°äº†

